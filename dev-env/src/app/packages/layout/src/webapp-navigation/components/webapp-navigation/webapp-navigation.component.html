<ng-template #webappNavHeaderWrapper>
  <ng-content select="bat-webapp-nav-heading"></ng-content>
</ng-template>

<ng-template #webappNavElementWrapper>
  <ng-content select="bat-webapp-element"></ng-content>
</ng-template>

<div
  class="bat-navigation"
  ngClass.lt-md="bat-navigation-lt-md"
  ngClass.gt-sm="bat-navigation-gt-sm"
  [@navigationLevels]="(isMobileMediaQuery$ | async) ? currentLevel : '1'"
  [@visibility]="visibilityState">
  <!--[style.transform-origin]="getTransformOriginStyle(transformOrigin.x, transformOrigin.y)"-->
  <div ngClass.lt-md="bat-navigation-strawler-lt-md" ngClass.gt-sm="bat-navigation-strawler-gt-sm">

    <div fxHide="true" fxShow.gt-sm="true">
      <ng-container
        batPlaceholder
        [view]="generateDesktopHeadingView(currentLevel, viewModel['' + currentLevel].parentNavItem)">

      </ng-container>
    </div>

    <div class="bat-navigation-container"
         ngClass.lt-md="bat-navigation-container-lt-md"
         ngClass.gt-sm="bat-navigation-container-gt-sm"
         fxLayoutAlign.gt-sm="end"
         fxLayout.lt-md="row">

      <ng-container *ngFor="let level of objectKeys(viewModel)">
        <div ngClass.gt-sm="bat-navigation-level-gt-sm"
             ngClass.lt-md="bat-navigation-level-lt-md">

          <div fxHide="true" fxShow.lt-md="true">
            <ng-container
              batPlaceholder
              [view]="generateMobileHeadingView(level, viewModel[level].navItems, viewModel[level].parentNavItem, viewModel)">

            </ng-container>
          </div>

          <div ngClass.lt-md="bat-navigation-element-container-lt-md">
            <!--[style.margin-top]="getMarginTopStyle(i)"-->
            <div  class="bat-navigation-element-divider"></div>
            <ng-container *ngFor="let navItem of viewModel[level].navItems">

              <ng-container batPlaceholder [view]="generateNavElementView(navItem, level)"></ng-container>
              <!--<bat-webapp-nav-default-element
                [hasChildren]="navItem.children && navItem.children.length > 0"
                [isActive]="navItem.isActive"
                [title]="navItem.title"
                [subtitle]="navItem.subtitle"
                [route]="navItem.route"
                (navigationElementClicked)="goToNextLevel(navItem, level);">
              </bat-webapp-nav-default-element>-->

              <div class="bat-navigation-element-divider"></div>
            </ng-container>
          </div>
        </div>
      </ng-container>
    </div>

    <div class="bat-navigation-footer" fxLayoutAlign="start center">
      <ng-content select="bat-webapp-nav-footer"></ng-content>
    </div>
  </div>
</div>


